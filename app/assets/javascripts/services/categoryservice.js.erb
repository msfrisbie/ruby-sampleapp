'use strict';

window.angular.module('Outhouse.categories.service', [])
  .factory('Categories', [function () {
    var categories = {
      "good-eats": {
        "link": "good-eats",
        "title": "Good Eats",
        "img": "<%= image_path 'food.png' %>",
        "subcategories": {
          "study-snacks": {
            "link": "study-snacks",
            "title": "Study Snacks",
            "img": "http://i.snack-girl.com/m/i/bookb.jpg",
            "tagline": "Grab a coffee or a quick bite to eat while cramming for your next exam."
          },
          "quick-but-good": {
            "link": "quick-but-good",
            "title": "Quick But Good",
            "img": "http://gainesvillescene.com/wp-content/uploads/2013/04/pizza.jpg",
            "tagline": "Delicious and cheap restaurants that you'll fall in love with."
          },
          "sit-down-stay-a-while": {
            "link": "sit-down-stay-a-while",
            "title": "Sit Down... Stay A While",
            "img": "http://graphics8.nytimes.com/images/2012/03/17/business/17charts-span/17charts-span-articleLarge.jpg",
            "tagline": "Explore the stellar choice of restaurants that Berkeley has to offer. Burgers, Japanese, BBQ and more."
          },
          "hot-date": {
            "link": "hot-date",
            "title": "Hot Date",
            "img": "http://i1.trekearth.com/photos/52255/candle_light_dinner.jpg",
            "tagline": "Great places to take your special somebody. Romantic, delicious, and classy."
          },
          "sweet-tooth": {
            "link": "sweet-tooth",
            "title": "Sweet Tooth",
            "img": "http://vegnews.com/web/uploads/asset/1708/file/cinnamonroll.jpg",
            "tagline": "Ice cream, cinnamon rolls, candy, and more. What's not to love?"
          },
          "brunch-time-is-all-the-time": {
            "link": "brunch-time-is-all-the-time",
            "title": "Brunch Time Is All The Time",
            "img": "http://coogans.com/test/wp-content/uploads/2009/09/brunch.jpg",
            "tagline": "Awesome restaurants that serve your favorite meal of the day all day long. Great cure for hangovers."
          },
          "feeling-adventurous": {
            "link": "feeling-adventurous",
            "title": "Feeling Adventurous",
            "img": "http://www.expressentree.com/Images/cuisine/Japanese-food-delivery.jpg",
            "tagline": "Want to try something radically new? These restaurants are new and wacky, but they also feature delightful dishes that you won't forget."
          }
        }
      },
      "study-corners": {
        "link": "study-corners",
        "title": "Study Corners",
        "img": "<%= image_path 'book.png' %>",
        "subcategories": {
          "study-with-some-background-noise": {
            "link": "study-with-some-background-noise",
            "title": "Study with some background noise",
            "img": "http://blogs-images.forbes.com/tomiogeron/files/2011/11/1115_cafe-coupa_1024x768.jpeg",
            "tagline": "Need a little noise to help keep you focused? These cafes and restaurants are perfect. We'll tell you which ones are the quietest."
          },
          "study-in-absolute-silence": {
            "link": "study-in-absolute-silence",
            "title": "Study in absolute silence",
            "img": "http://upload.wikimedia.org/wikipedia/commons/e/ed/Vassar_Library_Study_Area.jpg",
            "tagline": "These libraries and study areas are so quiet that you'll hear crickets."
          }
        }
      },
      "get-outside": {
        "link": "get-outside",
        "title": "Get Outside",
        "img": "<%= image_path 'tree.png' %>",
        "subcategories": {
          "walk-it-out": {
            "link": "walk-it-out",
            "title": "Walk it out",
            "img": "http://a57.foxnews.com/global.fncstatic.com/static/managed/img/Health/660/371/walking2.jpg",
            "tagline": "These places are great for leisurely strolls either alone or with friends."
          },
          "get-wet": {
            "link": "get-wet",
            "title": "Get wet",
            "img": "http://upload.wikimedia.org/wikipedia/commons/7/7f/Barack_Obama_swimming_at_Pyramid_Rock_Beach.jpg",
            "tagline": "Swimming, boating, and fishing are all fun water activities that Berkeley has to offer."
          },
          "take-a-hike": {
            "link": "take-a-hike",
            "title": "Take a hike",
            "img": "http://www.ndparks.com/wp-content/uploads/2011/04/difference-hiking-shoes-hiking-boots.jpg",
            "tagline": "Put on your hiking boots and hit some of the gorgeous trails up in the hills of Berkeley."
          },
          "hangout-spots": {
            "link": "hangout-spots",
            "title": "Hangout spots",
            "img": "http://thumbs.dreamstime.com/z/happy-group-friends-smiling-outdoors-12331114.jpg",
            "tagline": "Kick it with your friends and enjoy each other's company at these hangout spots."
          },
          "sports": {
            "link": "sports",
            "title": "Sports",
            "img": "http://media.philly.com/images/600*450/20120730_inq_poverbrook30z-c.JPG",
            "tagline": "Get competitive with your friends and beat them at every sport, ranging from basketball to frisbee golf."
          },
          "scenic-views": {
            "link": "scenic-views",
            "title": "Scenic views",
            "img": "http://farm6.staticflickr.com/5298/5412578628_b15c9bcae9_z.jpg",
            "tagline": "Enjoy the beautiful scenery that Berkeley has to offer."
          }
        }
      },
      "explore": {
        "link": "explore",
        "title": "Explore",
        "img": "<%= image_path 'tree.png' %>",
        "subcategories": {
          "eat-a-chode": {
            "link": "eat-a-chode",
            "title": "Eat a chode",
            "img": "<%= image_path 'tree.png' %>",
            "tagline": "EAT DAT CHOOOOOOAD"
          },
          "museum": {
            "link": "museum",
            "title": "Museum",
            "img": "<%= image_path 'tree.png' %>",
            "tagline": "It's a fuckin museum"
          },
        }
      },
      "happy-hour-every-hour": {
        "link": "happy-hour-every-hour",
        "title": "Happy Hour, Every Hour",
        "img": "<%= image_path 'beer.png' %>",
        "subcategories": {
          "hang-out": {
            "link": "hang-out",
            "title": "Hang out",
            "img": "http://cbsnewyork.files.wordpress.com/2011/09/pool-table.jpg",
            "tagline": "Play pool, watch the game, listen to the jukebox, and lounge around the fire. Tonight is all about hanging with your best friends."
          },
          "specialty-drinks": {
            "link": "specialty-drinks",
            "title": "Specialty drinks",
            "img": "http://www.chutneysbistro.com/images/colordrinks2.jpg",
            "tagline": "Explore the unique wines, beers, whiskeys and cocktails that Berkeley has to offer."
          },
          "rage": {
            "link": "rage",
            "title": "Rage",
            "img": "http://www.cooltownstudios.com/wp-content/uploads/2013/05/nl-rotterdam-clubwatt.jpg",
            "tagline": "It's time to dance, listen to loud music and get trashed. Here are the best places to get your groove on."
          },
          "berkeley-favorites": {
            "link": "berkeley-favorites",
            "title": "Berkeley favorites",
            "img": "http://kidfocused.com/wp-content/uploads/2012/09/college-bar.jpg",
            "tagline": "You can't legally graduate from Berkeley until you've gone to all of these drinking destinations."
          }
        }
      },
      "pop-some-tags": {
        "link": "pop-some-tags",
        "title": "Pop Some Tags",
        "img": "<%= image_path 'shop.png' %>",
        "subcategories": {
          "only-got-20-in-my-pocket": {
            "link": "only-got-20-in-my-pocket",
            "title": "Only got $20 in my pocket",
            "img": "<%= image_path 'shop.png' %>",
            "tagline": "POP DEM TAGS SoNnNnNnN"
          }
        }
      },
      "go-green": {
        "link": "go-green",
        "title": "Go Green",
        "img": "<%= image_path 'explore.png' %>",
        "subcategories": {
          "enjoy-green-outdoors": {
            "link": "enjoy-green-outdoors",
            "title": "Enjoy green outdoors",
            "img": "<%= image_path 'shop.png' %>",
            "tagline": "BURN ONE"
          },
          "best-smoke-shops": {
            "link": "best-smoke-shops",
            "title": "Best smoke shops",
            "img": "<%= image_path 'shop.png' %>",
            "tagline": "JUST DON'T ASK THEM FOR A BONG"
          },
          "munchies-locations": {
            "link": "munchies-locations",
            "title": "Munchies locations",
            "img": "<%= image_path 'shop.png' %>",
            "tagline": "WHO CAN EAT A WHOLE TRAY OF CUPCAKES? YOU CAN!!!!!"
          },
          "smoke-dat-chron-chron": {
            "link": "smoke-dat-chron-chron",
            "title": "Smoke dat chron chron",
            "img": "<%= image_path 'shop.png' %>",
            "tagline": "BURN ANOTHER ONE"
          }
        }
      }
    };

    // var isBetween = function(time, range) {
    //   return (time >= range.start && time <= range.end)
    // };

    return {
      // getActiveCats: function(parent){
      //   var arr = []
      //   var d = new Date()
      //   var t = d.getHours() * 100 + d.getMinutes()
      //   var dow = ["sun","mon","tue","wed","thu","fri","sat"][d.getDay()];

      //   angular.forEach(cats, function (cat){
      //     if(cat.parent === parent){
      //       angular.forEach(cat.schedule[dow], function (r){
      //         if(isBetween(t, r)){
      //           arr.push(cat);
      //         }
      //       })
      //     }
      //   });

      //   return arr;
      // },

      // getTopLevelAttrs: function(obj) {
      //   var arr = [];
      //   for (var property in obj) {
      //     if (obj.hasOwnProperty(property) {
      //       arr.push(property);
      //     })
      //   }
      //   return arr;
      // },

      getActiveCategories: function(category,subcategory) {
        if (!category) {
          return categories;
          // return getTopLevelAttrs(categories);
        } else if (!!category && !subcategory) {
          return categories[category].subcategories
          // return getTopLevelAttrs(categories[category].subcategories)
        } else {
          return categories[category].subcategories[subcategory];
          //return getTopLevelAttrs
          return [];
        }
      },

      getAllCategories: function(){
        return categories;
      }
    };
  }]);

// Before:
// ['$resource', function ($resource) {
//     return $resource(
//       'categories/:categoryId',
//       {
//         update: { method: 'PUT' }
//     }
//   );
// }]